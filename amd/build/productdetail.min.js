define("local_shop/productdetail",["jquery","core/log","core/config"],(function($,log,cfg){return{init:function(){$("#ci-pass").bind("change",this.check_pass_code)},check_pass_code:function(e){var that=$(this),productname=that.attr("data-product"),urlbase=cfg.wwwroot+"/local/shop/front/ajax/service.php",ajax_waiter_img='<img width="14" height="14" src="'+cfg.wwwroot+'/local/shop/pix/ajaxloader.gif" />',ajax_success_img='<img width="14" height="14" src="'+cfg.wwwroot+'/local/shop/pix/valid.png" />',ajax_failure_img='<img width="14" height="14" src="'+cfg.wwwroot+'/local/shop/pix/invalid.png" />';$("#ci-pass-status-"+productname).html(ajax_waiter_img),$("#cimod-pass-status-"+productname).html(ajax_waiter_img);var input=that.val()+e.key;$.post(urlbase,{id:shopfront.shopid,service:"shop",what:"checkpasscode",productname:productname,passcode:input},(function(data){"passed"==JSON.parse(data).status?($("#ci-add-to-bag").attr("disabled",null),$("#ci-pass-status-"+productname).html(ajax_success_img),$("#cimod-"+productname).attr("disabled",null),$("#cimod-pass-status-"+productname).html(ajax_success_img)):($("#ci-add-to-bag").attr("disabled","disabled"),$("#ci-pass-status-"+productname).html(ajax_failure_img),$("#cimod-pass-status-"+productname).html(ajax_failure_img))}),"html")}}}));

//# sourceMappingURL=productdetail.min.js.map