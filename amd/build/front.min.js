define(["jquery","core/log","core/config"],function(a,b,c){var d={eulas:"required",shopid:0,init:function(c){a(".shop-description-toggle").bind("click",this.toggle_description),c&&(d.shopid=c.shopid),b.debug("AMD Local Shop Front initialized")},initeulas:function(c){a("#shop-eula-confirm").bind("click",this.accept_eulas),c&&("required"===c.eulas&&a("#region-pre").css("display","none"),d.eulas=c.eulas),b.debug("AMD Local Shop Front Eulas initialized")},toggle_description:function(){var b=a(this);b.attr("src").match(/open/)?(b.attr("src",b.attr("src").replace("open","close")),b.parent().parent().children(".shop-front-description").removeClass("shop-desc-gradient")):(b.attr("src",b.attr("src").replace("close","open")),b.parent().parent().children(".shop-front-description").addClass("shop-desc-gradient"))},accept_eulas:function(){if(1==a("#shop-agreeeula").val()){a("#euladiv").css("display","none"),a("#order").css("display","block"),a("#order").css("visibility","show"),a("#region-pre").css("display","block"),a("#region-pre").css("visibility","show");var b=c.wwwroot+"/local/shop/front/ajax/service.php?what=agreeeulas";b+="&service=order"}else{var b=c.wwwroot+"/local/shop/front/ajax/service.php?what=reseteulas";b+="&service=order",b+="&id="+d.shopid}a.get(b)},reset_eulas:function(){if("agreed"==d.eulas){var b=c.wwwroot+"/local/shop/front/ajax/service.php?what=reseteulas";b+="&service=order",b+="&id="+d.shopid,a.get(b)}}};return d});